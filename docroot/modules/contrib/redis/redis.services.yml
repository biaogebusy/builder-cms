services:
  cache.backend.redis:
    class: Drupal\redis\Cache\CacheBackendFactory
    arguments: ['@redis.factory', '@cache_tags.invalidator.checksum', '@serialization.phpserialize']
  redis.factory:
    class: Drupal\redis\ClientFactory
    tags:
      - { name: service_collector, call: addFactory, tag: redis_client_factory }
  redis.factory.phpredis:
    class: Drupal\redis\Client\PhpRedisFactory
    tags:
      - { name: redis_client_factory, priority: 20 }
  redis.factory.predis:
    class: Drupal\redis\Client\PredisFactory
    tags:
      - { name: redis_client_factory, priority: 10 }
  redis.factory.relay:
    class: Drupal\redis\Client\RelayFactory
    tags:
      - { name: redis_client_factory, priority: 0 }
  redis.lock.factory:
    class: Drupal\redis\Lock\LockFactory
    arguments: ['@redis.factory']
  redis.flood.factory:
    class: Drupal\redis\Flood\FloodFactory
    arguments: ['@redis.factory', '@request_stack']
  queue.redis_reliable:
    class: Drupal\redis\Queue\ReliableQueueRedisFactory
    arguments: ['@redis.factory', '@settings']
    tags:
      - queue_factory
  queue.redis:
    class: Drupal\redis\Queue\QueueRedisFactory
    arguments: ['@redis.factory', '@settings']
    tags:
      - queue_factory
